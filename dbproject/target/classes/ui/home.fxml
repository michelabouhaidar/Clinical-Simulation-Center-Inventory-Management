<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.Insets?>
<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>

<BorderPane xmlns="http://javafx.com/javafx/8"
            xmlns:fx="http://javafx.com/fxml/1"
            fx:controller="com.example.ui.HomeController"
            prefWidth="1200" prefHeight="750"
            style="-fx-background-color: linear-gradient(to bottom right, #14532d, #22c55e);">

    <top>
        <HBox alignment="CENTER_LEFT"
              spacing="10"
              style="-fx-padding: 16 32 16 32;">
            <children>
                <Label text="LAU"
                       style="-fx-text-fill: #f9fafb; -fx-font-size: 22px; -fx-font-weight: bold;"/>

                <Label text="· Clinical Simulator Center Inventory Management"
                       style="-fx-text-fill: #d1fae5; -fx-font-size: 13px;"/>

                <Pane HBox.hgrow="ALWAYS"/>

                <Label fx:id="userLabel"
                       text="Logged in user"
                       style="-fx-text-fill: #f9fafb; -fx-font-size: 12px;"/>
            </children>
        </HBox>
    </top>

    <left>
        <VBox spacing="8"
              style="-fx-background-color: #14532d;
                     -fx-padding: 24 14 24 24;">
            <children>
                <Label text="Navigation"
                       style="-fx-text-fill: #e5e7eb;
                              -fx-font-size: 12px;
                              -fx-font-weight: bold;
                              -fx-padding: 0 0 8 0;"/>

                <Button text="Overview"
                        maxWidth="Infinity"
                        style="-fx-background-color: rgba(0,0,0,0.22);
                               -fx-text-fill: #f9fafb;
							   -fx-font-weight: bold;
                               -fx-alignment: CENTER_LEFT;
							   -fx-background-radius: 999;
                               -fx-padding: 8 12 8 12;"/>

                <Button text="Simulators"
                        onAction="#onNavSimulators"
                        maxWidth="Infinity"
                        style="-fx-background-color: transparent;
                               -fx-text-fill: #ecfdf5;
                               -fx-alignment: CENTER_LEFT;
                               -fx-padding: 8 14 8 14;"/>

                <Button text="Consumables &amp; Stock"
                        onAction="#onNavStock"
                        maxWidth="Infinity"
                        style="-fx-background-color: transparent;
                               -fx-text-fill: #f9fafb;
                               -fx-alignment: CENTER_LEFT;
                               -fx-padding: 8 12 8 12;"/>

                <Button text="Borrowing"
				        onAction="#onNavBorrowing"
				        maxWidth="Infinity"
				        style="-fx-background-color: transparent;
				               -fx-text-fill: #f9fafb;
				               -fx-alignment: CENTER_LEFT;
				               -fx-padding: 8 12 8 12;"/>


                <Button text="Maintenance"
                        maxWidth="Infinity"
						onAction="#onNavMaintentance"
                        style="-fx-background-color: transparent;
                               -fx-text-fill: #f9fafb;
                               -fx-alignment: CENTER_LEFT;
                               -fx-padding: 8 12 8 12;"/>

                <Button text="Users"
                        maxWidth="Infinity"
						onAction="#onNavUsers"
                        style="-fx-background-color: transparent;
                               -fx-text-fill: #f9fafb;
                               -fx-alignment: CENTER_LEFT;
                               -fx-padding: 8 12 8 12;"/>

                <Separator style="-fx-opacity: 0.4; -fx-padding: 8 0 8 0;"/>

                <Button text="Settings"
                        maxWidth="Infinity"
						onAction="#onNavSettings"
                        style="-fx-background-color: transparent;
                               -fx-text-fill: #f9fafb;
                               -fx-alignment: CENTER_LEFT;
                               -fx-padding: 8 12 8 12;"/>

                <Pane VBox.vgrow="ALWAYS"/>

                <Button text="Logout"
                        onAction="#onLogout"
                        maxWidth="Infinity"
                        style="-fx-background-color: #ef4444;
                               -fx-text-fill: white;
                               -fx-font-weight: bold;
                               -fx-background-radius: 999;
                               -fx-padding: 8 12 8 12;"/>
            </children>
        </VBox>
    </left>

    <center>
        <!-- <ScrollPane fitToWidth="true" fitToHeight="true"
                    style="-fx-background-color: transparent; 
						   -fx-padding: 8 24 24 8;">
            <content> -->
                <StackPane>
                    <padding>
                        <Insets top="8" right="8" bottom="8" left="8"/>
                    </padding>
                    <children>
                        <VBox spacing="16"
                              style="-fx-background-color: #f9fafb;
                                     -fx-background-radius: 20;
                                     -fx-padding: 24;
                                     -fx-effect: dropshadow(gaussian, rgba(0,0,0,0.24), 22, 0.21, 0, 4);">

                            <HBox spacing="4" alignment="CENTER_LEFT">
                                <children>
                                    <VBox spacing="4">
                                        <Label text="Overview"
                                               style="-fx-text-fill: #111827;
                                                      -fx-font-size: 22px;
                                                      -fx-font-weight: bold;"/>
                                    </VBox>
                                </children>
                            </HBox>

                            <!-- KPI CARDS: now in a 2x2 layout with icons-like accent -->
                            <HBox spacing="14">
                                <!-- Total simulators -->
                                <VBox spacing="6"
                                      HBox.hgrow="ALWAYS"
                                      style="-fx-background-color: #ffffff;
                                             -fx-background-radius: 14;
                                             -fx-padding: 14;
                                             -fx-border-color: #e5e7eb;
                                             -fx-border-radius: 14;">
                                    <Label text="Total Simulators"
                                           style="-fx-text-fill: #6b7280;
                                                  -fx-font-size: 11px;
                                                  -fx-font-weight: bold;"/>
                                    <Label fx:id="totalSimulatorsLabel"
                                           text="—"
                                           style="-fx-text-fill: #111827;
                                                  -fx-font-size: 24px;
                                                  -fx-font-weight: bold;"/>
                                    <Label text="Across all branches."
                                           style="-fx-text-fill: #9ca3af;
                                                  -fx-font-size: 11px;"/>
                                </VBox>

                                <!-- Active borrowings -->
                                <VBox spacing="6"
                                      HBox.hgrow="ALWAYS"
                                      style="-fx-background-color: #ffffff;
                                             -fx-background-radius: 14;
                                             -fx-padding: 14;
                                             -fx-border-color: #e5e7eb;
                                             -fx-border-radius: 14;">
                                    <Label text="Active Borrowings"
                                           style="-fx-text-fill: #6b7280;
                                                  -fx-font-size: 11px;
                                                  -fx-font-weight: bold;"/>
                                    <Label fx:id="activeBorrowingsLabel"
                                           text="—"
                                           style="-fx-text-fill: #111827;
                                                  -fx-font-size: 24px;
                                                  -fx-font-weight: bold;"/>
                                    <Label text="Open simulator loans."
                                           style="-fx-text-fill: #9ca3af;
                                                  -fx-font-size: 11px;"/>
                                </VBox>

                                <!-- Upcoming calibrations -->
                                <VBox spacing="6"
                                      HBox.hgrow="ALWAYS"
                                      style="-fx-background-color: #ffffff;
                                             -fx-background-radius: 14;
                                             -fx-padding: 14;
                                             -fx-border-color: #e5e7eb;
                                             -fx-border-radius: 14;">
                                    <Label text="Upcoming Calibrations"
                                           style="-fx-text-fill: #6b7280;
                                                  -fx-font-size: 11px;
                                                  -fx-font-weight: bold;"/>
                                    <Label fx:id="upcomingCalibrationsLabel"
                                           text="—"
                                           style="-fx-text-fill: #111827;
                                                  -fx-font-size: 24px;
                                                  -fx-font-weight: bold;"/>
                                    <Label text="Within the next 30 days."
                                           style="-fx-text-fill: #9ca3af;
                                                  -fx-font-size: 11px;"/>
                                </VBox>
                            </HBox>

                            <Separator style="-fx-opacity: 0.4;"/>

                            <!-- LOWER SECTION: TWO CARDS STACKED SIDE BY SIDE -->
                            <HBox spacing="16">
                                <!-- Recent Maintenance -->
                                <VBox spacing="8" HBox.hgrow="ALWAYS"
                                      style="-fx-background-color: #ffffff;
                                             -fx-background-radius: 14;
                                             -fx-padding: 14;
                                             -fx-border-color: #e5e7eb;
                                             -fx-border-radius: 14;">
                                    <Label text="Recent Maintenance Events"
                                           style="-fx-text-fill: #111827;
                                                  -fx-font-size: 14px;
                                                  -fx-font-weight: bold;"/>
                                    <Label text="Latest work done on simulators."
                                           style="-fx-text-fill: #6b7280;
                                                  -fx-font-size: 11px;"/>

                                    <TableView fx:id="maintenanceTable"
                                               prefHeight="230"
                                               style="-fx-background-color: transparent;
                                                      -fx-control-inner-background: #ffffff;
                                                      -fx-table-cell-border-color: #e5e7eb;
                                                      -fx-table-header-border-color: #e5e7eb;">
                                        <columns>
                                            <TableColumn fx:id="maintDateCol"   text="Date"      prefWidth="110"/>
                                            <TableColumn fx:id="maintSimCol"    text="Simulator" prefWidth="150"/>
                                            <TableColumn fx:id="maintTypeCol"   text="Type"      prefWidth="140"/>
                                            <TableColumn fx:id="maintVendorCol" text="Vendor"    prefWidth="150"/>
                                        </columns>
                                    </TableView>
                                </VBox>

                                <!-- Low stock -->
                                <VBox spacing="8" HBox.hgrow="ALWAYS"
                                      style="-fx-background-color: #ffffff;
                                             -fx-background-radius: 14;
                                             -fx-padding: 14;
                                             -fx-border-color: #e5e7eb;
                                             -fx-border-radius: 14;">
                                    <Label text="Low Stock Alerts"
                                           style="-fx-text-fill: #111827;
                                                  -fx-font-size: 14px;
                                                  -fx-font-weight: bold;"/>
                                    <Label text="Consumables at or below threshold."
                                           style="-fx-text-fill: #6b7280;
                                                  -fx-font-size: 11px;"/>

                                    <TableView fx:id="stockTable"
                                               prefHeight="230"
                                               style="-fx-background-color: transparent;
                                                      -fx-control-inner-background: #ffffff;
                                                      -fx-table-cell-border-color: #e5e7eb;
                                                      -fx-table-header-border-color: #e5e7eb;">
                                        <columns>
                                            <TableColumn fx:id="stockConsCol"   text="Consumable" prefWidth="170"/>
                                            <TableColumn fx:id="stockBranchCol" text="Branch"     prefWidth="130"/>
                                            <TableColumn fx:id="stockAvailCol"  text="Available"  prefWidth="80"/>
                                            <TableColumn fx:id="stockResCol"    text="Reserved"   prefWidth="80"/>
                                        </columns>
                                    </TableView>
                                </VBox>
                            </HBox>
                        </VBox>
                    </children>
                </StackPane>
            <!-- </content>
        </ScrollPane> -->
    </center>

    <bottom>
        <HBox alignment="CENTER_RIGHT"
              style="-fx-padding: 4 24 8 24;">
            <children>
                <Label text="LAU · Clinical Simulator Center Inventory"
                       style="-fx-text-fill: #e5e7eb; -fx-font-size: 11px;"/>
            </children>
        </HBox>
    </bottom>
</BorderPane>
