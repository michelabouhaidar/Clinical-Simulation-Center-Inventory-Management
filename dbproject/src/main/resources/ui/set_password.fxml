<?xml version="1.0" encoding="UTF-8"?>
<?import javafx.scene.layout.*?>
<?import javafx.scene.control.*?>
<?import javafx.geometry.*?>

<BorderPane xmlns="http://javafx.com/javafx"
            xmlns:fx="http://javafx.com/fxml"
            prefWidth="1000" prefHeight="650"
            style="-fx-background-color: linear-gradient(to bottom right, #2d7a00ff, #38800fff);">

    <!-- Top header bar -->
    <top>
        <HBox alignment="CENTER_LEFT"
              spacing="10"
              style="-fx-padding: 16 32 12 32;">
            <children>
                <Label text="LAU"
                       style="-fx-text-fill: #e5e7eb; -fx-font-size: 22px; -fx-font-weight: bold;"/>
                <Label text="Â· Create your password"
                       style="-fx-text-fill: #e5e7eb; -fx-font-size: 14px;"/>
            </children>
        </HBox>
    </top>

    <!-- Center content -->
    <center>
        <StackPane>
            <padding>
                <Insets top="0" right="40" bottom="0" left="40"/>
            </padding>
            <children>
                <HBox spacing="40" alignment="CENTER">
                    <!-- Left explanatory panel -->
                    <VBox spacing="16" alignment="CENTER_LEFT">
                        <Label text="Secure your account"
                               style="-fx-text-fill: #e5e7eb; -fx-font-size: 26px; -fx-font-weight: bold;"/>
                        <Label text="Choose a strong password. You will use it to sign in to the system."
                               wrapText="true"
                               maxWidth="320"
                               style="-fx-text-fill: #e5e7eb; -fx-font-size: 13px;"/>
                    </VBox>

                    <!-- Right card with form -->
                    <VBox spacing="20"
                          alignment="CENTER"
                          maxWidth="420"
                          style="
                            -fx-background-color: #ffffff;
                            -fx-background-radius: 18;
                            -fx-padding: 28;
                            -fx-effect: dropshadow(gaussian, rgba(0,0,0,0.35), 24, 0.2, 0, 4);
                          ">

                        <!-- Title -->
                        <VBox spacing="4" alignment="CENTER_LEFT">
                            <Label text="Create your password"
                                   style="-fx-font-size: 20px; -fx-font-weight: bold; -fx-text-fill: #111827;"/>
                            <Label text="Passwords must be at least 8 characters and include upper, lower case letters and a digit."
                                   wrapText="true"
                                   style="-fx-font-size: 12px; -fx-text-fill: #6b7280;"/>
                        </VBox>

                        <Separator/>

                        <!-- Form: simple vertical stack, so no overlap -->
                        <VBox spacing="10" alignment="CENTER_LEFT" maxWidth="Infinity">

                            <!-- Username (read-only) -->
                            <VBox spacing="4" maxWidth="Infinity">
                                <Label text="Username:"
                                       style="-fx-text-fill: #374151;"/>
                                <TextField fx:id="usernameField"
                                           editable="false"
                                           style="
                                              -fx-background-radius: 8;
                                              -fx-border-radius: 8;
                                              -fx-border-color: #e5e7eb;
                                              -fx-padding: 6;
                                              -fx-background-color: #f9fafb;
                                           "
                                           maxWidth="Infinity"/>
                            </VBox>

                            <!-- New password -->
                            <VBox spacing="4" maxWidth="Infinity">
                                <Label text="New password:"
                                       style="-fx-text-fill: #374151;"/>
                                <PasswordField fx:id="pass1"
                                               promptText="at least 8 characters"
                                               style="
                                                 -fx-background-radius: 8;
                                                 -fx-border-radius: 8;
                                                 -fx-border-color: #d1d5db;
                                                 -fx-padding: 6;
                                               "
                                               maxWidth="Infinity"/>
                            </VBox>

                            <!-- Confirm password -->
                            <VBox spacing="4" maxWidth="Infinity">
                                <Label text="Confirm password:"
                                       style="-fx-text-fill: #374151;"/>
                                <PasswordField fx:id="pass2"
                                               promptText="retype password"
                                               onAction="#onSave"
                                               style="
                                                 -fx-background-radius: 8;
                                                 -fx-border-radius: 8;
                                                 -fx-border-color: #d1d5db;
                                                 -fx-padding: 6;
                                               "
                                               maxWidth="Infinity"/>
                            </VBox>

                            <!-- Error label -->
                            <Label fx:id="errorLabel"
                                   textFill="red"
                                   wrapText="true"
                                   maxWidth="Infinity"/>
                        </VBox>

                        <!-- Save button -->
                        <Button text="Save password"
                                onAction="#onSave"
                                maxWidth="Infinity"
                                style="
                                  -fx-background-color: linear-gradient(to right, #38800fff, #2d7a00ff);
                                  -fx-text-fill: white;
                                  -fx-font-weight: bold;
                                  -fx-background-radius: 999;
                                  -fx-padding: 10 20 10 20;
                                "/>
                    </VBox>
                </HBox>
            </children>
        </StackPane>
    </center>
</BorderPane>
